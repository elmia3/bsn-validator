<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>BSN Validator</title>
    <style>
        body{font-family:system-ui,Segoe UI,Arial,sans-serif;max-width:640px;margin:2rem auto;padding:0 1rem;}
        .card{border:1px solid #ddd;border-radius:12px;padding:1rem;box-shadow:0 1px 3px rgba(0,0,0,.05)}
        input{font-size:1rem;padding:.6rem .8rem;border:1px solid #bbb;border-radius:8px;width:100%}
        button{margin-top: .7rem;padding:.6rem 1rem;border:0;border-radius:8px;background:#0d6efd;color:#fff;cursor:pointer}
        .result{margin-top:1rem;font-weight:600}
        .ok{color:#037c3b}.bad{color:#b20000}
    </style>
</head>
<body>
<h1>BSN Validator</h1>
<div class="card">
    <label for="bsn">Enter a BSN (8 or 9 digits)</label>
    <input id="bsn" placeholder="e.g. 72124581 or 286497153"/>
    <button id="validate">Validate</button>
    <div id="result" class="result"></div>
</div>

<script>
    const input = document.getElementById('bsn');
    const out   = document.getElementById('result');
    document.getElementById('validate').addEventListener('click', async () => {
        const value = input.value.trim();
        if(!value){ out.textContent = 'Please enter a value.'; out.className='result bad'; return; }
        const res = await fetch(`/api/bsn/validate?value=${encodeURIComponent(value)}`);
        const json = await res.json();
        out.textContent = json.valid ? `${json.bsn} is a VALID BSN ✔` : `${json.bsn} is NOT valid ✖`;
        out.className = 'result ' + (json.valid ? 'ok' : 'bad');
    });
</script>
</body>
</html>
